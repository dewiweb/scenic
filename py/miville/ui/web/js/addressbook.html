<html>
    <head>
        <title>addressbook.js</title>
        <link rel = "stylesheet" type = "text/css" href = "jsdoc.css" />
    </head>
    <body>
        <h1>Module documentation for addressbook.js</h1>
<p></p><h2>Class Index</h2>
<dl class = "classes">
<dt><a href = "#Addressbook">Addressbook</a></dt>
<dd>This is subclass of Nevow.</dd>
</dl><h2>Classes</h2>
<a name = "Addressbook" />
<div class = "jsclass">
<h3>Addressbook</h3>
<p>This is subclass of Nevow.Athena.Widget.
 It represent the addressbook interface.</p>
<p>
</p>
<p>
</p>
<p> This class is seperated in 5 parts:
  - initialisation (__init__)
  - utility methods
  - methods call from the server
  - methods call from the client interface
  - methods responsible of updating interface elements (buttons, etc.) state.</p>
<p>
</p>
<p>
</p>
<p> When an event occur notify_controllers is call with an event name as argument.
 notify_controllers propagate the event to all controllers.
 Each controller is responsible to update is state in function of the event
 it receive.</p>
<h4>Methods</h4>
<a name = "__init__" />
<div class = "function">
<h4>__init__</h4>
<p>Initialisation method.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>node</dt><dd>The DOM node that hold the widget associated with this class.</dd></dl>
</div>

<a name = "notify_controllers" />
<div class = "function">
<h4>notify_controllers</h4>
<p>Notify all the controllers (buttons/fields/etc) state when an event call
 this method.</p>
<p>
</p>
<p>
</p>
<p> For every controller you want to be notify you have to call the method
 that update the controller from here.</p>
<p>
</p>
<p>
</p>
<p> **!Achtung!** the order theses controller methods are call can be very
 important if the state of a controller is dependant of the state
 of another controller.</p>
<p>
</p>
<p>
</p>
<p> So put the least dependants at the top and more dependants at the bottom.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>event (string)</dt><dd>The event that fire the notification.</dd></dl>
</div>

<a name = "get_selected_attr" />
<div class = "function">
<h4>get_selected_attr</h4>
<p>Return the attribute specified of the contact li element or null.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>attr (string)</dt><dd>The name of the attribute you want.</dd></dl>
</div>

<a name = "update_selected" />
<div class = "function">
<h4>update_selected</h4>
<p>Save the name of the selected contact.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>name (string)</dt><dd>The name of the newly selected contact.</dd></dl>
</div>

<a name = "update_list" />
<div class = "function">
<h4>update_list</h4>
<p>Update the contact list to reflect the state of the server.
 (call from server)</p>
<p>
</p>
<p>
</p>
<p> Changed only what was changed.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>contacts (array)</dt><dd>An array of contacts object.</dd></dl>
</div>

<a name = "update_status" />
<div class = "function">
<h4>update_status</h4>
<p>Update the connection status of the contacts.
 (call from server)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>contact (string)</dt><dd>The name of the contact that have to be updated.</dd>
<dt>msg (string)</dt><dd>The new status message for the contact.</dd>
<dt>details (string)</dt><dd>The new details (complete error message) for the contact.</dd></dl>
</div>

<a name = "show_contact_info" />
<div class = "function">
<h4>show_contact_info</h4>
<p>Show selected contact info coming from the server in info fields.
 (call from the server)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>contact (contact object)</dt><dd></dd></dl>
</div>

<a name = "ask" />
<div class = "function">
<h4>ask</h4>
<p>Show prompt asking to accept an invitation to connect.
 (call from the server)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>connection (string)</dt><dd>The name of the connection who ask.</dd>
<dt>caption (string)</dt><dd>The caption of the notification window.</dd>
<dt>body (string)</dt><dd>The text body of the notification window.</dd></dl>
</div>

<a name = "notification" />
<div class = "function">
<h4>notification</h4>
<p>Show prompt telling that the invitation is now over.
 (call from server)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>caption (string)</dt><dd>The caption of the notification window.</dd>
<dt>body (string)</dt><dd>The text body of the notification window.</dd></dl>
</div>

<a name = "update" />
<div class = "function">
<h4>update</h4>
<p>Get info from others widgets.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>caller (string)</dt><dd>The short name of the widget.</dd>
<dt>key (string)</dt><dd>The name of the receive information.</dd>
<dt>value</dt><dd>The receive information.</dd></dl>
</div>

<a name = "contact_selected" />
<div class = "function">
<h4>contact_selected</h4>
<p>One contact is selected.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>contact (DOM node)</dt><dd>The <li> node of the selected contact.</dd></dl>
</div>

<a name = "contact_unselect" />
<div class = "function">
<h4>contact_unselect</h4>
<p>No contact is selected.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "edit_contact" />
<div class = "function">
<h4>edit_contact</h4>
<p>Edit contact info.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "add_contact" />
<div class = "function">
<h4>add_contact</h4>
<p>Add a new contact.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "save_contact" />
<div class = "function">
<h4>save_contact</h4>
<p>Save a contact (for a new, modified and keeped contact). 
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "keep_contact" />
<div class = "function">
<h4>keep_contact</h4>
<p>Keep (save) an auto-created contact.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "remove_contact" />
<div class = "function">
<h4>remove_contact</h4>
<p>Remove a contact from the list.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "cancel_edit_flds" />
<div class = "function">
<h4>cancel_edit_flds</h4>
<p>Cancel contact info editing on cancel key down.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "connect" />
<div class = "function">
<h4>connect</h4>
<p>Start a connection with a contact.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "disconnect" />
<div class = "function">
<h4>disconnect</h4>
<p>Stop a connection with a contact.
 (call from the client)</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "upd_list" />
<div class = "function">
<h4>upd_list</h4>
<p>Update the contacts list in function of the selected contact.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>event (string)</dt><dd>The event that trigger the update.</dd></dl>
</div>

<a name = "unselect_contact" />
<div class = "function">
<h4>unselect_contact</h4>
<p>Unselect contact from the list (display update).</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd></dl>
</div>

<a name = "upd_status" />
<div class = "function">
<h4>upd_status</h4>
<p>Update the connection status line.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>event (string)</dt><dd>The event that trigger the update.</dd></dl>
</div>

<a name = "upd_fields" />
<div class = "function">
<h4>upd_fields</h4>
<p>Update the contact fields.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>event (string)</dt><dd>The event that trigger the update.</dd></dl>
</div>

<a name = "set_fields_state" />
<div class = "function">
<h4>set_fields_state</h4>
<p>Enable/disabled the contact info fields.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>state (string)</dt><dd>The desired state (enable or disable).</dd></dl>
</div>

<a name = "upd_auto_answer_chk" />
<div class = "function">
<h4>upd_auto_answer_chk</h4>
<p>Update auto_answer checkbox state.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>event (string)</dt><dd>The event that trigger the update.</dd></dl>
</div>

<a name = "upd_add_btn" />
<div class = "function">
<h4>upd_add_btn</h4>
<p>Update add button state.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>event (string)</dt><dd>The event that trigger the update.</dd></dl>
</div>

<a name = "upd_remove_btn" />
<div class = "function">
<h4>upd_remove_btn</h4>
<p>Update remove button state.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>event (string)</dt><dd>The event that trigger the update.</dd></dl>
</div>

<a name = "upd_edit_btn" />
<div class = "function">
<h4>upd_edit_btn</h4>
<p>Update edit/save button state.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>event (string)</dt><dd>The event that trigger the update.</dd></dl>
</div>

<a name = "upd_connect_btn" />
<div class = "function">
<h4>upd_connect_btn</h4>
<p>Update connect/disconnect button state.</p>
<h5>Params</h5>
<dl class = "params"><dt>self</dt><dd></dd>
<dt>event (string)</dt><dd>The event that trigger the update.</dd></dl>
</div>
</div>
    </body>
</html>