<chapter id="before-using-scenic">
  <title>Before Using Scenic</title>
  <para>In this chapter, we will list a few things to think about
  when getting prepared to use Scenic for a perfomance. First, we
  will list some recommended equipment. Next, we will describe some
  common setups. Next, we will give a summary on how to turn on the
  computer and test the network connection.</para>
  <sect1 id="equipment-list">
    <title>Equipment list</title>
    <para>Here is a list of recommended hardware.</para>
    <orderedlist>
      <listitem>
        <para>1 x PC Intel QuadCore 2.4 GHz 4 GB RAM, 2 PCI slots,
        Ubuntu Linux Desktop i386 8.04.</para>
      </listitem>
      <listitem>
        <para>1 x video capture card supported under Linux.</para>
      </listitem>
      <listitem>
        <para>1 x sound card</para>
      </listitem>
      <listitem>
        <para>1(+) video camera(s) with A/V output.</para>
      </listitem>
      <listitem>
        <para>1(+) set(s) of headphones.</para>
      </listitem>
      <listitem>
        <para>1(+) microphone(s).</para>
      </listitem>
      <listitem>
        <para>1 x audio mixer with at least two audio subgroups, so
        you can have one mix for local output and one mix to
        send.</para>
      </listitem>
      <listitem>
        <para>Ethernet connector (10/100).</para>
      </listitem>
      <listitem>
        <para>Network connection devices (hub, firewall,
        etc...).</para>
      </listitem>
    </orderedlist>
  </sect1>
  <sect1 id="common-setups">
    <title>Common Setups</title>
    <para>The following setup description are common ways to use &app;.</para>
  <sect2 id="standalone-setup">
    <title>Standalone Setup</title>
    <para>Here is an overview of a standalone setup.</para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="fig/hardware_setup_01.jpg" format="JPG" />
      </imageobject>
    </mediaobject>
  </sect2>
  <sect2>
    <title>Point to point setup</title>
    <para>This kind of setup refer to the communication between two
    Scenic system, both connected on a research/high-bandwidth
    setup.</para>
  </sect2>
  <sect2>
    <title>Unidirectional setup</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="fig/unidirectional_setup.png" />
      </imageobject>
    </mediaobject>
  </sect2>
  <sect2>
    <title>Bidirectional setup</title>
    <para>Two groups of performance artists located in two separate
    venues interact directly with each other using live audio and
    video transmission. The performance in Room 1 is captured
    through cameras and microphones and sent to be broadcast in
    Room 2 and vice versa.</para>
    <mediaobject>
      <imageobject>
      <imagedata fileref="fig/bidirectional_setup.png" />
      </imageobject>
    </mediaobject>
  </sect2>
  </sect1>
  <sect1>
    <title>Peripheral Connection</title>
    <sect2 id="contents">
      <title>&app; depends on many peripherals</title>
      <para>It is really important to verify that you have
      peripheral that are supported by Scenic. For this refer to
      our 
      <ulink url="http://svn.sat.qc.ca/trac/miville/wiki/HardwareRequirements">
      Hardware Requirements</ulink> page.</para>
      <para>Is is also necessary to make sure that all peripheral
      are properly configure and connected.</para>
      <para>Here is an overview of the various peripheral used in a
      Scenic setup and what is important to</para>
      <title>Audio input</title>
      <para>The usual audio input is a microphone. This microphone
      is then connected in the input of an audio mixer and then to
      a sound card. This Sound card is then connected to the
      computer.</para>
      <title>Audio output</title>
      <para>The usual direct audio output is speakers or
      headphones.</para>
      <title>Video Input</title>
      <para>The usual direct video input is a video camera.</para>
      <title>Video Output</title>
      <para>The usual direct video output is a projection screen
      and an control monitor.</para>
      <title>Keyboard and mouse</title>
      <para>Of course, it is easier to use a computer with those peripherals.</para>
    </sect2>
  </sect1>
  <sect1>
    <title>Turning on the computer and its peripherals</title>
    <para>With audio and video systems, the order used to powering
    up all device is really important.</para>
    <orderedlist>
      <listitem>
        <para>Connect only, the mouse, keyboard and control
        monitor.</para>
      </listitem>
      <listitem>
        <para>Connect the network cable on the network
        interface</para>
      </listitem>
      <listitem>
        <para>Verify that you have sufficient power to supply your
        hardware. We strongly recommend the use of an UPS to
        regulate your power.</para>
      </listitem>
      <listitem>
        <para>Power up the computer.</para>
      </listitem>
      <listitem>
        <para>Verify that you log in the appropriate
        session.</para>
      </listitem>
      <listitem>
        <para>Configure your network: 
        <ulink url="http://help.ubuntu.com/community/NetworkAdmin">
        http://help.ubuntu.com/community/NetworkAdmin</ulink></para>
      </listitem>
      <listitem>
        <para>Verify that your IP address is functional: In a
        terminal</para>
        <para>ifconfig</para>
      </listitem>
      <listitem>
        <para>You should see your address in the second line of
        your connected network interface:</para>
        <para>eth0 &#160; &#160; &#160;Link encap:Ethernet
        &#160;HWaddr 00:30:1b:b4:af:a1 &#160;</para>
        <para>&#160; &#160; &#160; &#160; &#160; inet addr:
        192.168.0.100 Bcast:192.168.0.255
        &#160;Mask:255.255.255.0</para>
      </listitem>
    </orderedlist>
    
    <para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="fig/connection_information_1.png" />
      </imageobject>
    </mediaobject>
    </para>
    
    <para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="fig/connection_information_2.png" />
      </imageobject>
    </mediaobject>
    </para>
    
    <orderedlist>
      <listitem>
        <para>Use ping to make sure that you are connected to the Internet.</para>
        <para>Type "ping www.google.com" in a terminal and press Return.</para>
      </listitem>
      <listitem>
        <para>You should see something like this:</para>
        <para>PING www.l.google.com (74.125.93.104) 56(84) bytes of
        data.</para>
        <para>64 bytes from qw-in-f104.google.com (74.125.93.104):
        icmp_seq=1 ttl=239 time=36.2 ms</para>
        <para>64 bytes from qw-in-f104.google.com (74.125.93.104):
        icmp_seq=2 ttl=239 time=37.3 ms</para>
        <para>64 bytes from qw-in-f104.google.com (74.125.93.104):
        icmp_seq=3 ttl=239 time=36.4 ms</para>
        <para>64 bytes from qw-in-f104.google.com (74.125.93.104):
        icmp_seq=4 ttl=239 time=36.1 ms</para>
        <para>--- www.l.google.com ping statistics ---</para>
        <para>4 packets transmitted, 4 received, 0% packet loss,
        time 3003ms</para>
        <para>rtt min/avg/max/mdev = 36.174/36.557/37.322/0.494
        ms</para>
      </listitem>
      <listitem>
        <para>Open a terminal by choosing the <menuchoice><guimenu>Application</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Terminal</guimenuitem></menuchoice> menu item.</para>
      </listitem>
      <listitem>
        <para>Verify that you are on the realtime kernel:</para>
      </listitem>
      <listitem>
        <para>Type in a terminal</para>
        <para>uname -r</para>
      </listitem>
      <listitem>
        <para>You should see the -rt extension: 2.6.24-26-rt If
        not, you have to restart the computer. At the beginning of
        the reboot, you will see a grub window, press ESC and then
        select the kernel with the -rt extension.</para>
      </listitem>
      <listitem>
        <para>Now you can turn off the computer.</para>
      </listitem>
      <listitem>
        <para>Connect all the audio and video device following our 
        <ulink url="http://svn.sat.qc.ca/trac/miville/wiki/Hardware%20Setup">
        Hardware Setup</ulink> page.</para>
      </listitem>
      <listitem>
        <para>While connecting the device, be aware that if you
        have two video output, you need to connect both of the
        output before powering up the computer again so that both
        devices are detected.</para>
      </listitem>
      <listitem>
        <para>Next, configure and test your audio and video
        following our 
        <ulink url="http://svn.sat.qc.ca/trac/miville/wiki/TestAudiovisualInputOutput">
        TestAudiovisualInputOutput</ulink> page.</para>
      </listitem>
    </orderedlist>
    <para />
  </sect1>
  <sect1>
    <title>Be reached from the Internet</title>
    <para>To stream with Scenic, both peer must make sure their 
    computer are reachable for the other computer. That means each
    peer must be able to send data to the other peer. </para>
    <para>The easiest way to make this happen, is to have a public
    IP address, and all ports open to the Internet - with no 
    firewall. An other solution would be to use a VPN.</para>
    <para>If you are using behind a router, one thing that you 
    can do it to configure your router to forward specific ports 
    to the computer running Scenic. The port forwarding must be
    done for both TCP/IP and UDP/IP on the port 17446, as well 
    as for the whole range of 10000 to at least 11000.</para>
    <para>The port 17446 is the communication port of Scenic. 
    Scenic allocates port number from 10000 and up for the 
    receiving streamers. </para>
  </sect1>
  <sect1>
    <title>Testing the Devices</title>
    <para>Before trying to do any live audio and video streaming,
    one should make sure his devices are properly pluged-in and
    that they are powered on. Sometimes, an audio capture card
    might be in the digital mode, while you would prefer to use its
    analog inputs. Likewise, a USB MIDI capture device might be
    disabled by a push button that is in the "off" position. Those
    things might be obvious, but they are a common source of
    problems.</para>
  </sect1>
  <sect1>
    <title>Lauching the <application>JACK</application> Audio Server</title>
    <para>If you want to stream audio, you must run the <application>JACK</application> audio
    server. There is a simple graphical user interface for <application>JACK</application>
    that is called <application>JACK Control</application>. 
    You can launch it by choosing the <menuchoice><guimenu>Application</guimenu><guimenuitem>Audio/Video</guimenuitem><guimenuitem>JACK Control</guimenuitem></menuchoice> menu item.</para>
  </sect1>
  <sect1>
    <title>Lauching &app;</title>
    <para>To launch Scenic, choose the <menuchoice><guimenu>Application</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Scenic</guimenuitem></menuchoice> menu item. You should be ready to go!</para>
  </sect1>
</chapter>
