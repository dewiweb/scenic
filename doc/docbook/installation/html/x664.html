<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Configuring the sound server</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Scenic Installation Manual V2.1"
HREF="index.html"><LINK
REL="UP"
TITLE="Configure audio and video"
HREF="c553.html"><LINK
REL="PREVIOUS"
TITLE="Audio Settings"
HREF="x649.html"><LINK
REL="NEXT"
TITLE="Sound check"
HREF="x899.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><SPAN
CLASS="application"
>Scenic</SPAN
> Installation Manual V2.1</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x649.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Configure audio and video</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x899.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN664"
>5.4. Configuring the sound server</A
></H1
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN666"
>5.4.1. Configuration of jackd</A
></H2
><P
>Now start the jackd sound server using qjackctl situated in Applications/Sound &#38; Video/Jack Control </P
><P
>&#13;      <IMG
SRC="https://svn.sat.qc.ca/trac/scenic/attachment/wiki/ImageSource/qjackctl.png?format=raw"
WIDTH="2.068cm"
HEIGHT="1.07cm"> 
   </P
><P
>Then click on setup button </P
><P
>Here is an examples of qjackctl realtime setup configuration: </P
><DIV
CLASS="informaltable"
><P
></P
><A
NAME="AEN673"
></A
><TABLE
BORDER="1"
FRAME="border"
CLASS="CALSTABLE"
><COL><COL><COL><TBODY
><TR
><TD
>&#13;               <P
>Parameter</P
>
            </TD
><TD
>&#13;               <P
>Value </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Realtime</P
>
            </TD
><TD
>&#13;               <P
>Yes </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Priority</P
>
            </TD
><TD
>&#13;               <P
>Default </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Frames/Period</P
>
            </TD
><TD
>&#13;               <P
>64 </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Sample Rate</P
>
            </TD
><TD
>&#13;               <P
>48000 </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Periods/Buffer</P
>
            </TD
><TD
>&#13;               <P
>2 </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Port Maximum</P
>
            </TD
><TD
>&#13;               <P
>256 </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Timeout (msec)</P
>
            </TD
><TD
>&#13;               <P
>500 </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Interface</P
>
            </TD
><TD
>&#13;               <P
>Default </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Audio</P
>
            </TD
><TD
>&#13;               <P
>Duplex</P
>
            </TD
><TD
>&#13;               <P
>freebob/ffa </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Input Latency</P
>
            </TD
><TD
>&#13;               <P
>Default </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Output Latency</P
>
            </TD
><TD
>&#13;               <P
>Default </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Latency</P
>
            </TD
><TD
>&#13;               <P
>2.67 msec </P
>
            </TD
><TD
>&#13;               <P
></P
>
            </TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
><P
>On your qjackctl setup page you will have first to adjust all parameter for your specific sound card. Those parameter are shown on the jack settings table below. </P
><P
>Note that these settings also depends of your computer specification and can varies from one setup to an other. </P
><P
>Here is a table of all tested soundcard with there appropriate jack settings. </P
><DIV
CLASS="informaltable"
><P
></P
><A
NAME="AEN770"
></A
><TABLE
BORDER="1"
FRAME="border"
CLASS="CALSTABLE"
><COL><COL><COL><COL><COL><COL><TBODY
><TR
><TD
>&#13;               <P
>Soundcard</P
>
            </TD
><TD
>&#13;               <P
>-d backen</P
>
            </TD
><TD
>&#13;               <P
>-r sample rate</P
>
            </TD
><TD
>&#13;               <P
>- p frames/period</P
>
            </TD
><TD
>&#13;               <P
>-n periods/buffer</P
>
            </TD
><TD
>&#13;               <P
>Latency </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>&#13;                  <A
HREF="https://svn.sat.qc.ca/trac/miville/wiki/MaudioDelta"
TARGET="_top"
>MaudioDelta</A
> 1010 (regular or LT)</P
>
            </TD
><TD
>&#13;               <P
>-d alsa </P
>
            </TD
><TD
>&#13;               <P
>-r 48000 </P
>
            </TD
><TD
>&#13;               <P
>-p 64 </P
>
            </TD
><TD
>&#13;               <P
>-n 2 </P
>
            </TD
><TD
>&#13;               <P
>2.67 msec </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>&#13;                  <A
HREF="https://svn.sat.qc.ca/trac/miville/wiki/EdirolFirewire"
TARGET="_top"
>EdirolFirewire</A
> Fa101</P
>
            </TD
><TD
>&#13;               <P
>-d freebob </P
>
            </TD
><TD
>&#13;               <P
>-r 48000 </P
>
            </TD
><TD
>&#13;               <P
>-p 64 </P
>
            </TD
><TD
>&#13;               <P
>-n 2 </P
>
            </TD
><TD
>&#13;               <P
>2.67 msec </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Intel HDAudio</P
>
            </TD
><TD
>&#13;               <P
>-d alsa </P
>
            </TD
><TD
>&#13;               <P
>-r 48000 </P
>
            </TD
><TD
>&#13;               <P
>-p 512 </P
>
            </TD
><TD
>&#13;               <P
>-n 4</P
>
            </TD
><TD
>&#13;               <P
>16 msec </P
>
            </TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
><P
>where -v is verbose, -R is realtime mode, -dalsa sets the backend to ALSA (should use -dfreebob instead for any firewire cards), -r 48000 sets the sample rate to 48000 samples/sec, -p64 sets the frames/period to 64, and -n2 sets the periods/buffer to 2. </P
><P
>If you use ALSA, you may run in the problem of the order of module loading. To solve, use ALSA names instead of index (hw:0) to specify the card. Here's how to: </P
><P
>To select the appropriate soundcard, first verify the name of the sound card to use with asoundconf </P
><P
>Here is an examples of asoundconf output: </P
><PRE
CLASS="programlisting"
>&#13;   asoundconf list
   Names of available sound cards:
   Intel
   Bt878
   M2496</PRE
><P
>Copy the name of the sound card and paste it in your .asoundrc file situated in your /home/$USER directory. Ex: Here i want to use the M2496 soundcard. </P
><P
>&#13;   ex:</P
><PRE
CLASS="programlisting"
>&#13;   gedit .asoundrc
   </PRE
><P
>.asoundrc file with m2496 name added</P
><PRE
CLASS="programlisting"
>&#13;   pcm.m2496 {
       type hw
       card M2496
   }
   ctl.m2496 {
       type hw
       card M2496
   }
   </PRE
><P
>Now you just have to add the name of the soundcard in the qjackctl interface field . For example, the m2496: </P
><P
>&#13;      <IMG
SRC="https://svn.sat.qc.ca/trac/scenic/attachment/wiki/ImageSource/qjackctl_Soundcard.png?format=raw"
WIDTH="16.132cm"
HEIGHT="15.867cm"> 
   </P
><P
></P
><OL
TYPE="1"
><LI
><P
>Click on the Options tab. </P
></LI
></OL
><P
>Verify that only the following options are selected: </P
><DIV
CLASS="informaltable"
><P
></P
><A
NAME="AEN844"
></A
><TABLE
BORDER="1"
FRAME="border"
CLASS="CALSTABLE"
><COL><COL><TBODY
><TR
><TD
>&#13;               <P
>Parameter</P
>
            </TD
><TD
>&#13;               <P
>Value </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Capture Standard Output</P
>
            </TD
><TD
>&#13;               <P
>Yes </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>XRUN detection regex</P
>
            </TD
><TD
>&#13;               <P
>xrun of at least ([0-9|\.]+) msecs </P
>
            </TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
><P
></P
><OL
TYPE="1"
><LI
><P
>Click on the Misc tab. </P
></LI
></OL
><P
>Verify that only the following "Misc" options are selected: </P
><DIV
CLASS="informaltable"
><P
></P
><A
NAME="AEN866"
></A
><TABLE
BORDER="1"
FRAME="border"
CLASS="CALSTABLE"
><COL><COL><TBODY
><TR
><TD
>&#13;               <P
>Parameter</P
>
            </TD
><TD
>&#13;               <P
>Value </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Start JACK audio server on application startup</P
>
            </TD
><TD
>&#13;               <P
>Yes </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Save JACK audio server configuration to:</P
>
            </TD
><TD
>&#13;               <P
>.jackdrc </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Confirm server shutdown</P
>
            </TD
><TD
>&#13;               <P
>Yes </P
>
            </TD
></TR
><TR
><TD
>&#13;               <P
>Enable ALSA Sequencer support</P
>
            </TD
><TD
>&#13;               <P
>Yes </P
>
            </TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
><P
>NOTE: If you get an error message, reboot the computer and try again. </P
><P
></P
><P
></P
><OL
TYPE="1"
><LI
><P
>Now start the sound server by clicking on "Start". </P
></LI
></OL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x649.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x899.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Audio Settings</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c553.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Sound check</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>