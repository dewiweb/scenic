digraph netem {
    /* time = top to bottom
    */
    edge [
        splines=true
        bgcolor=white
        fontname=Helvetica
        fontsize=9
    ]

    graph [
        splines=true
        bgcolor=white
        fontname=Helvetica
        fontsize=9
        pad=0.5
    ]

    node [
        fontname=Helvetica
        fontsize=9
        shape=box
        margin="0.055,0.005"
    ]
    
    jackd_is_running [ label="Is jackd running?" ]
    firewire_audio [ label="Is the audio interface firewire?" ]
    fw_bus_reset [ label="Reset the firewire bus with firecontrol" ]
    ac_adapter [ label="Is the A/C adapter plugged in?" ]
    use_bus [ label="Switch the back connector to Bus\rand disconnect A/C" ]
    digital_in [ label="Is the Digital In activated?" ]
    digital_in_off [ label="Disable Digital In" ]
    starting_jackd [ label="Starting jackd" ]
    crashed [ label="Did jackd crashed?" ]
    jack_lsp [ label="List jack ports" ]
    freezed [ label="Did jackd freezed?" ]
    jackd_running [ label="jackd is running" ]
    killall_jackd [ label="Kill jackd" ]
    edirol [ label="Is this an Edirol" ]
    
    /* default = true, red = false */
    jackd_is_running -> firewire_audio [ label="no", weight=7 ]
    jackd_is_running -> jackd_running [ label="yes" ]
    firewire_audio -> edirol [ label="yes", weight=7 ]
    edirol -> ac_adapter [ label="yes" ]
    edirol -> fw_bus_reset [ label="no", weight=7 ]
    firewire_audio -> alsa [ label="no" ]
    alsa -> starting_jackd
    ac_adapter -> use_bus [ label="yes" ]
    use_bus -> digital_in
    ac_adapter -> digital_in [ label="no", weight=5 ]
    digital_in -> fw_bus_reset [ label="no", weight=5 ]
    digital_in -> digital_in_off [ label="yes", weight=5 ]
    digital_in_off -> fw_bus_reset 
    fw_bus_reset -> starting_jackd [ weight=7 ]
    starting_jackd -> crashed 
    crashed -> jack_lsp [ label="no" ]
    crashed -> firewire_audio [ label="yes" ]
    jackd_is_running -> jack_lsp
    jack_lsp -> freezed
    freezed -> killall_jackd [ label="yes" ]
    freezed -> jackd_running [ label="no" ]
    killall_jackd -> firewire_audio
}
